---
import { getCollection, render } from "astro:content";

import Release from "../../layouts/Release.astro";

export async function getStaticPaths() {
    const releases = await getCollection("releases");
    return releases.map((release) => ({
        params: { id: release.id },
        props: { release },
    }));
}

const { release } = Astro.props;
const { Content } = await render(release);
---

<Release
    title={release.data.title}
    date={release.data.publishedOn}
    notes={release.data.notes}
>
    <Content />
</Release>
